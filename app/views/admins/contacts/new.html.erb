<div class="container-fluid">
  <div class="center-block">
    <h2 style="margin-top: 20px">新規連絡</h2>
  </div>
  <div class="center-block" style="margin-top: 20px">
    <%= link_to "連絡履歴", admins_contacts_path, class: "btn btn-primary col-xs-12"; %>
  </div>

<%= form_for @contact, url: {action: 'confirm'} do |f| %>
  <% if @contact.errors.any? %>
  <% end %>

<div class="center-block">
  <div class="field">
    <h4 style="margin-top: 20px">対象クラス</h4>
    <%# @class_names.each do |name| %>
      <%#= check_box :class, :name,{ multiple: true }, name.id, nil %>
        <span><%#= name.name %></span>
    <%# end %>
  </div>


  <div class="field">
    <h4 style="margin-top: 20px">件名</h4>
    <%= f.text_field :title %>
  </div>

  <div class="field">
    <h4 style="margin-top: 20px">内容</h4>
    <%= f.text_area :body, size: "40x5" %>
  </div>

  <div class="new-form" style="margin-top: 20px">
    <img src="" id="preview" style="width: 10%; margin-bottom: 20px"><br>
    <%= f.attachment_field :image, id: "file_btn" %><br />
  </div>

  <div class="actions" style ="margin-top: 20px">
    <%= f.submit '確認する', class: "btn btn-primary" %>
  </div>

<% end %>
</div>
</div>

<script type="text/javascript">
$(function() {
 function readURL(input) {
   if (input.files && input.files[0]) {
     var reader = new FileReader();
     reader.onload = function (e) {
       $('#preview').attr('src', e.target.result);
     }
     reader.readAsDataURL(input.files[0]);
   }
 }
 $("#file_btn").change(function(){
   readURL(this);
 });
});
</script>